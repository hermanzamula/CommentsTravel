<div class="searchBar">
<h2>Comments</h2>
    <form>
        <label>Search:</label> <input ng-model="query">
        <select ng-model="orderProp">
            <option value="-date">Date</option>
            <option value="-rating">Rating</option>
        </select>
    </form>
</div>

<ul class="commentsList">
    <li ng-repeat="comment in comments | filter:query | orderBy:orderProp">
        <strong class="title">Rating</strong>
        <button type="button" class="increaseButton" ng-click="increaseRating(comment)">
            +
        </button>
        {{comment.rating}}
        <button type="button" class="decreaseBtn" ng-click="decreaseRating(comment)">
            -
        </button>

        <div class="comment">{{comment.comment}}</div>
        <div class="info">
            by <span class="username">{{comment.username}}</span> on <span class="date">{{comment.date | date:"MM/dd/yyyy"}}</span>
        </div>
    </li>
</ul>

<div class="commentForm">
    <form name="newComment" novalidate class="newComment" ng-submit="addComment()">
        <h3>Rating {{newComment.rating}}</h3>
        <textarea ng-model="newComment.comment" class="commentArea" required></textarea>
        <label>Username:</label>
        <input type="text" ng-model="newComment.username" name="comment" required/>
        <button type="submit" class="addCommentBtn" ng-disabled="newComment.$invalid">Add comment</button>
    </form>
</div>

